{"ast":null,"code":"import { __extends } from \"tslib\";\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\n\nimport { Pattern } from \"./Pattern\";\nimport { registry } from \"../../Registry\";\nimport * as $path from \"../../rendering/Path\";\n;\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\n\n/**\r\n * Line pattern.\r\n */\n\nvar LinePattern =\n/** @class */\nfunction (_super) {\n  __extends(LinePattern, _super);\n  /**\r\n   * Constructor\r\n   */\n\n\n  function LinePattern() {\n    var _this = _super.call(this) || this;\n\n    _this.properties[\"gap\"] = 0;\n    _this._line = _this.paper.add(\"path\");\n\n    _this.addElement(_this._line);\n\n    return _this;\n  }\n  /**\r\n   * Draws the pattern.\r\n   */\n\n\n  LinePattern.prototype.draw = function () {\n    _super.prototype.draw.call(this);\n\n    if (Math.round(this.rotation / 90) != this.rotation / 90) {\n      this.properties[\"shapeRendering\"] = \"auto\";\n    }\n\n    if (this._line) {\n      var w = this.width;\n      var h = this.height;\n      var path = \"\";\n\n      if (!this.gap) {\n        if (Math.round(this.rotation / 90) != this.rotation / 90) {\n          path = $path.moveTo({\n            x: -w,\n            y: h / 2\n          }) + $path.lineTo({\n            x: w * 2,\n            y: h / 2\n          });\n          this.properties[\"rotationX\"] = this.width / 2;\n          this.properties[\"rotationY\"] = this.height / 2;\n        } else {\n          path = $path.moveTo({\n            x: 0,\n            y: 0\n          }) + $path.lineTo({\n            x: w,\n            y: 0\n          });\n        }\n      } else {\n        var step = this.gap + this.strokeWidth;\n        var count = this.height / step;\n\n        for (var i = -count / 2; i < count * 1.5; i++) {\n          if (Math.round(this.rotation / 90) != this.rotation / 90) {\n            path += $path.moveTo({\n              x: -w,\n              y: (i + 0.5) * step\n            }) + $path.lineTo({\n              x: w * 2,\n              y: (i + 0.5) * step\n            });\n            this.properties[\"rotationX\"] = this.width / 2;\n            this.properties[\"rotationY\"] = this.height / 2;\n          } else {\n            path += $path.moveTo({\n              x: -w,\n              y: i * step\n            }) + $path.lineTo({\n              x: w * 2,\n              y: i * step\n            });\n          }\n        }\n      }\n\n      this._line.attr({\n        \"d\": path\n      });\n    }\n  };\n\n  Object.defineProperty(LinePattern.prototype, \"gap\", {\n    /**\r\n     * @return gap\r\n     */\n    get: function get() {\n      return this.properties[\"gap\"];\n    },\n\n    /**\r\n     * Number of pixels between pattern lines.\r\n     *\r\n     * The pattern will automatically draw required number of lines to fill\r\n     * pattern area maintaining `gap` distance between them.\r\n     *\r\n     * 0 (zero) means only single line will be drawn.\r\n     *\r\n     * @default 0\r\n     * @since 4.7.7\r\n     */\n    set: function set(value) {\n      this.properties[\"gap\"] = value;\n      this.draw();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return LinePattern;\n}(Pattern);\n\nexport { LinePattern };\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\n\nregistry.registeredClasses[\"LinePattern\"] = LinePattern;","map":{"version":3,"sources":["../../../../../../src/.internal/core/rendering/fills/LinePattern.ts"],"names":[],"mappings":"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","sourcesContent":["/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Pattern, PatternProperties } from \"./Pattern\";\r\nimport { AMElement } from \"../AMElement\";\r\nimport { registry } from \"../../Registry\";\r\nimport * as $path from \"../../rendering/Path\";\r\n\r\nexport interface LinePatternProperties extends PatternProperties {\r\n\tgap: number;\r\n};\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Line pattern.\r\n */\r\nexport class LinePattern extends Pattern {\r\n\r\n\t/**\r\n\t * SVG `<line>` element used for pattern.\r\n\t */\r\n\tprotected _line: AMElement;\r\n\r\n\t/**\r\n\t * Defines property types.\r\n\t */\r\n\tpublic _properties!: LinePatternProperties;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.properties[\"gap\"] = 0;\r\n\t\tthis._line = this.paper.add(\"path\");\r\n\t\tthis.addElement(this._line);\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the pattern.\r\n\t */\r\n\tprotected draw(): void {\r\n\t\tsuper.draw();\r\n\t\tif (Math.round(this.rotation / 90) != this.rotation / 90) {\r\n\t\t\tthis.properties[\"shapeRendering\"] = \"auto\";\r\n\t\t}\r\n\t\tif (this._line) {\r\n\t\t\tlet w = this.width;\r\n\t\t\tlet h = this.height;\r\n\r\n\t\t\tlet path = \"\";\r\n\r\n\t\t\tif (!this.gap) {\r\n\t\t\t\tif (Math.round(this.rotation / 90) != this.rotation / 90) {\r\n\t\t\t\t\tpath = $path.moveTo({ x: -w, y: h / 2 }) + $path.lineTo({ x: w * 2, y: h / 2 });\r\n\r\n\t\t\t\t\tthis.properties[\"rotationX\"] = this.width / 2;\r\n\t\t\t\t\tthis.properties[\"rotationY\"] = this.height / 2;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tpath = $path.moveTo({ x: 0, y: 0 }) + $path.lineTo({ x: w, y: 0 });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet step = this.gap + this.strokeWidth;\r\n\t\t\t\tlet count = this.height / step;\r\n\r\n\t\t\t\tfor (let i = -count / 2; i < count * 1.5; i++) {\r\n\t\t\t\t\tif (Math.round(this.rotation / 90) != this.rotation / 90) {\r\n\t\t\t\t\t\tpath += $path.moveTo({ x: -w, y: (i + 0.5) * step }) + $path.lineTo({ x: w * 2, y: (i + 0.5) * step });\r\n\r\n\t\t\t\t\t\tthis.properties[\"rotationX\"] = this.width / 2;\r\n\t\t\t\t\t\tthis.properties[\"rotationY\"] = this.height / 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tpath += $path.moveTo({ x: -w, y: i * step }) + $path.lineTo({ x: w * 2, y: i * step });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._line.attr({ \"d\": path });\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Number of pixels between pattern lines.\r\n\t *\r\n\t * The pattern will automatically draw required number of lines to fill\r\n\t * pattern area maintaining `gap` distance between them.\r\n\t *\r\n\t * 0 (zero) means only single line will be drawn.\r\n\t *\r\n\t * @default 0\r\n\t * @since 4.7.7\r\n\t */\r\n\tpublic set gap(value: number) {\r\n\t\tthis.properties[\"gap\"] = value;\r\n\t\tthis.draw();\r\n\t}\r\n\r\n\t/**\r\n\t * @return gap\r\n\t */\r\n\tpublic get gap(): number {\r\n\t\treturn this.properties[\"gap\"];\r\n\t}\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"LinePattern\"] = LinePattern;\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}