{"ast":null,"code":"var _jsxFileName = \"/Users/leehochan/Desktop/WORI42/src/Component/Example/Compose/Compose.js\";\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport MapGL, { FlyToInterpolator } from \"react-map-gl\";\nimport request from \"../Axios/request\";\nimport { config } from \"../../../config\";\nimport InputBox from \"./InputBox\";\nimport axios from 'axios';\n\nfunction Compose() {\n  const [info, setInfo] = useState({\n    longitude: 127.024612,\n    latitude: 37.5326,\n    zoom: 11,\n    pitch: 0,\n    bearing: 0,\n    transitionInterpolator: new FlyToInterpolator({\n      speed: 1.2\n    }),\n    transitionDuration: 1000,\n    searchInfo: \"\",\n    isMain: true\n  });\n  const mainSearchInput = useCallback(vp => {\n    setInfo({ ...info,\n      searchInfo: vp.target.value\n    });\n  }, [info]);\n  const goToViewPort = useCallback(() => {\n    request(\"get\", `https://maps.googleapis.com/maps/api/geocode/json`, {\n      address: info.searchInfo,\n      key: `${config.Google_Token}`\n    }).then(res => {\n      setInfo({ ...info,\n        isMain: false,\n        latitude: res.data.results[0].geometry.location.lat,\n        longitude: res.data.results[0].geometry.location.lng,\n        zoom: 11,\n        transitionInterpolator: new FlyToInterpolator(),\n        transitionDuration: 1000\n      });\n    }).catch(res => {\n      console.log(res);\n    });\n    request(\"get\", \"http://openapi.data.go.kr/openapi/service/rest/Covid19/getCovid19SidoInfStateJson\", {\n      serviceKey: decodeURIComponent(config.Corona_Token),\n      // pageNo: 1,\n      // numOfRows: 10,\n      // startCreateDt: \"20200601\",\n      // endCreateDt: \"20200620\",\n      dataType: \"json\"\n    }).then(res => {\n      console.log(res);\n    });\n  }, [info]);\n  useEffect(() => {\n    if (info.isMain) {\n      const interval = setInterval(() => {\n        setInfo({ ...info,\n          latitude: info.latitude + 0.01,\n          longitude: info.longitude + 0.01\n        });\n      }, 100);\n      return () => clearInterval(interval);\n    }\n\n    return;\n  }, [info]); // useEffect(() => {\n  //   request(\"get\", `https://maps.googleapis.com/maps/api/geocode/json`, {\n  //     address: \"개포동 이노베이션아카데미\",\n  //     key: `${config.Google_Token}`,\n  //   })\n  //     .then((res) => {\n  //       console.log(res);\n  //     })\n  //     .catch((res) => {\n  //       console.log(res);\n  //     });\n  // }, []);\n\n  return /*#__PURE__*/React.createElement(MapGL, Object.assign({}, info, {\n    width: \"100vw\",\n    height: \"100vh\" // mapStyle=\"mapbox://styles/holee/ckcmzzc5y24hb1ip8lnkdt8sq\"\n    // mapboxApiAccessToken={config.MAPBOX_THEME}\n    ,\n    onViewportChange: nextViewport => setInfo({ ...info,\n      ...nextViewport\n    }),\n    mapStyle: \"mapbox://styles/mapbox/dark-v9\",\n    mapboxApiAccessToken: config.MAPBOX_TOKEN,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }), info.isMain ? /*#__PURE__*/React.createElement(InputBox, {\n    info: info,\n    setInfo: setInfo,\n    mainSearchInput: mainSearchInput,\n    goToViewPort: goToViewPort,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }) : \"\");\n}\n\nexport default Compose;","map":{"version":3,"sources":["/Users/leehochan/Desktop/WORI42/src/Component/Example/Compose/Compose.js"],"names":["React","useState","useCallback","useEffect","MapGL","FlyToInterpolator","request","config","InputBox","axios","Compose","info","setInfo","longitude","latitude","zoom","pitch","bearing","transitionInterpolator","speed","transitionDuration","searchInfo","isMain","mainSearchInput","vp","target","value","goToViewPort","address","key","Google_Token","then","res","data","results","geometry","location","lat","lng","catch","console","log","serviceKey","decodeURIComponent","Corona_Token","dataType","interval","setInterval","clearInterval","nextViewport","MAPBOX_TOKEN"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\nimport MapGL, { FlyToInterpolator } from \"react-map-gl\";\n\nimport request from \"../Axios/request\";\nimport { config } from \"../../../config\";\nimport InputBox from \"./InputBox\";\nimport axios from 'axios';\n\nfunction Compose() {\n  const [info, setInfo] = useState({\n    longitude: 127.024612,\n    latitude:  37.5326,\n    zoom: 11,\n    pitch: 0,\n    bearing: 0,\n    transitionInterpolator: new FlyToInterpolator({ speed: 1.2 }),\n    transitionDuration: 1000,\n    searchInfo: \"\",\n    isMain: true,\n  });\n\n  const mainSearchInput = useCallback(\n    (vp) => {\n      setInfo({\n        ...info,\n        searchInfo: vp.target.value,\n      });\n    },\n    [info]\n  );\n\n  const goToViewPort = useCallback(() => {\n    request(\"get\", `https://maps.googleapis.com/maps/api/geocode/json`, {\n      address: info.searchInfo,\n      key: `${config.Google_Token}`,\n    })\n      .then((res) => {\n        setInfo({\n          ...info,\n          isMain: false,\n          latitude: res.data.results[0].geometry.location.lat,\n          longitude: res.data.results[0].geometry.location.lng,\n          zoom: 11,\n          transitionInterpolator: new FlyToInterpolator(),\n          transitionDuration: 1000,\n        })\n      })\n      .catch((res) => {\n        console.log(res);\n      });\n\n      request(\"get\", \"http://openapi.data.go.kr/openapi/service/rest/Covid19/getCovid19SidoInfStateJson\",\n      {\n        serviceKey: decodeURIComponent(config.Corona_Token),\n        // pageNo: 1,\n        // numOfRows: 10,\n        // startCreateDt: \"20200601\",\n        // endCreateDt: \"20200620\",\n        dataType: \"json\"\n      }).then((res)=>{\n        console.log(res)\n      })\n  }, [info]);\n\n  useEffect(() => {\n    if (info.isMain) {\n      const interval = setInterval(() => {\n        setInfo({\n          ...info,\n          latitude: info.latitude + 0.01,\n          longitude: info.longitude + 0.01,\n        });\n      }, 100);\n      return () => clearInterval(interval);\n    }\n    return;\n  }, [info]);\n\n  // useEffect(() => {\n  //   request(\"get\", `https://maps.googleapis.com/maps/api/geocode/json`, {\n  //     address: \"개포동 이노베이션아카데미\",\n  //     key: `${config.Google_Token}`,\n  //   })\n  //     .then((res) => {\n  //       console.log(res);\n  //     })\n  //     .catch((res) => {\n  //       console.log(res);\n  //     });\n  // }, []);\n\n  return (\n    <MapGL\n      {...info}\n      width=\"100vw\"\n      height=\"100vh\"\n      // mapStyle=\"mapbox://styles/holee/ckcmzzc5y24hb1ip8lnkdt8sq\"\n      // mapboxApiAccessToken={config.MAPBOX_THEME}\n      onViewportChange={(nextViewport) => setInfo({ ...info, ...nextViewport })}\n      mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n      mapboxApiAccessToken={config.MAPBOX_TOKEN}\n    >\n      {info.isMain ? (\n        <InputBox\n          info={info}\n          setInfo={setInfo}\n          mainSearchInput={mainSearchInput}\n          goToViewPort={goToViewPort}\n        />\n      ) : (\n        \"\"\n      )}\n    </MapGL>\n  );\n}\n\nexport default Compose;\n"]},"metadata":{},"sourceType":"module"}