{"version":3,"sources":["../../../../src/lib/api/encode.js"],"names":["encode","data","writer","options","url","encodeSync","Error","encodeInBatches"],"mappings":"AAAA,OAAO,eAAeA,MAAf,CAAsBC,IAAtB,EAA4BC,MAA5B,EAAoCC,OAApC,EAA6CC,GAA7C,EAAkD;AACvD,MAAIF,MAAM,CAACF,MAAX,EAAmB;AACjB,WAAO,MAAME,MAAM,CAACF,MAAP,CAAcC,IAAd,EAAoBE,OAApB,CAAb;AACD;;AACD,MAAID,MAAM,CAACG,UAAX,EAAuB;AACrB,WAAOH,MAAM,CAACG,UAAP,CAAkBJ,IAAlB,EAAwBE,OAAxB,CAAP;AACD;;AAED,QAAM,IAAIG,KAAJ,CAAU,8BAAV,CAAN;AACD;AAED,OAAO,SAASD,UAAT,CAAoBJ,IAApB,EAA0BC,MAA1B,EAAkCC,OAAlC,EAA2CC,GAA3C,EAAgD;AACrD,MAAIF,MAAM,CAACG,UAAX,EAAuB;AACrB,WAAOH,MAAM,CAACG,UAAP,CAAkBJ,IAAlB,EAAwBE,OAAxB,CAAP;AACD;;AACD,QAAM,IAAIG,KAAJ,CAAU,4CAAV,CAAN;AACD;AAED,OAAO,SAASC,eAAT,CAAyBN,IAAzB,EAA+BC,MAA/B,EAAuCC,OAAvC,EAAgDC,GAAhD,EAAqD;AAC1D,MAAIF,MAAM,CAACK,eAAX,EAA4B;AAC1B,WAAOL,MAAM,CAACK,eAAP,CAAuBN,IAAvB,EAA6BE,OAA7B,CAAP;AACD;;AAED,QAAM,IAAIG,KAAJ,CAAU,yCAAV,CAAN;AACD","sourcesContent":["export async function encode(data, writer, options, url) {\n  if (writer.encode) {\n    return await writer.encode(data, options);\n  }\n  if (writer.encodeSync) {\n    return writer.encodeSync(data, options);\n  }\n  // TODO - Use encodeToBatches?\n  throw new Error('Writer could not encode data');\n}\n\nexport function encodeSync(data, writer, options, url) {\n  if (writer.encodeSync) {\n    return writer.encodeSync(data, options);\n  }\n  throw new Error('Writer could not synchronously encode data');\n}\n\nexport function encodeInBatches(data, writer, options, url) {\n  if (writer.encodeInBatches) {\n    return writer.encodeInBatches(data, options);\n  }\n  // TODO -fall back to atomic encode?\n  throw new Error('Writer could not encode data in batches');\n}\n"],"file":"encode.js"}