{"version":3,"sources":["../../../../src/lib/loader-utils/check-errors.js"],"names":["checkFetchResponseStatus","response","ok","errorMessage","status","statusText","text","slice","error","Error","checkFetchResponseStatusSync"],"mappings":"AAAA,OAAO,eAAeA,wBAAf,CAAwCC,QAAxC,EAAkD;AACvD,MAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,QAAIC,YAAY,0BAAmBF,QAAQ,CAACG,MAA5B,cAAsCH,QAAQ,CAACI,UAA/C,CAAhB;;AACA,QAAI;AACF,YAAMC,IAAI,GAAG,MAAML,QAAQ,CAACK,IAAT,GAAgBC,KAAhB,CAAsB,EAAtB,CAAnB;AACAJ,MAAAA,YAAY,IAAIG,IAAhB;AACD,KAHD,CAGE,OAAOE,KAAP,EAAc,CAEf;;AACD,UAAM,IAAIC,KAAJ,CAAUN,YAAV,CAAN;AACD;AACF;AAED,OAAO,SAASO,4BAAT,CAAsCT,QAAtC,EAAgD;AACrD,MAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,UAAM,IAAIO,KAAJ,wBAA0BR,QAAQ,CAACG,MAAnC,EAAN;AACD;AACF","sourcesContent":["export async function checkFetchResponseStatus(response) {\n  if (!response.ok) {\n    let errorMessage = `fetch failed ${response.status} ${response.statusText}`;\n    try {\n      const text = await response.text().slice(10);\n      errorMessage += text;\n    } catch (error) {\n      // ignore error\n    }\n    throw new Error(errorMessage);\n  }\n}\n\nexport function checkFetchResponseStatusSync(response) {\n  if (!response.ok) {\n    throw new Error(`fetch failed ${response.status}`);\n  }\n}\n"],"file":"check-errors.js"}